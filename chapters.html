<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Server Room Lockdown - Chapters</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="game-container">
    <h1>ðŸ“˜ Choose a Chapter</h1>
    <div id="chapter-list"></div>
    <div id="question-container" style="display: none;"></div>
    <div id="navigation-buttons" style="display: none;">
      <button id="back-to-chapters">ðŸ”™ Back to Chapters</button>
    </div>
  </div>

  <script src="chapters.js"></script>
  <script src="questions.js"></script>
  <script>
    const chapterList = document.getElementById("chapter-list");
    const questionContainer = document.getElementById("question-container");
    const navigationButtons = document.getElementById("navigation-buttons");

    function renderChapters() {
      chapterList.innerHTML = '';
      chapters.forEach(chapter => {
        const btn = document.createElement("button");
        btn.textContent = chapter.title;
        btn.className = "chapter-button";
        btn.onclick = () => showQuestions(chapter.id);
        chapterList.appendChild(btn);
      });
    }

    function showQuestions(chapterId) {
      chapterList.style.display = "none";
      questionContainer.innerHTML = '';
      questionContainer.style.display = "block";
      navigationButtons.style.display = "block";

      const chapterQuestions = questions[chapterId] || [];
      if (chapterQuestions.length === 0) {
        questionContainer.innerHTML = "<p>No questions available for this chapter.</p>";
        return;
      }

      chapterQuestions.forEach((q, index) => {
        const block = document.createElement("div");
        block.className = "question-block";

        const qText = document.createElement("p");
        qText.textContent = `${index + 1}. ${q.q}`;
        block.appendChild(qText);

        if (q.type === "MCQ") {
          q.options.forEach(option => {
            const label = document.createElement("label");
            label.innerHTML = `
              <input type="radio" name="question-${chapterId}-${index}" value="${option}">
              ${option}
            `;
            block.appendChild(label);
            block.appendChild(document.createElement("br"));
          });
        } else if (q.type === "text") {
          const input = document.createElement("input");
          input.type = "text";
          input.name = `question-${chapterId}-${index}`;
          input.placeholder = "Your answer";
          block.appendChild(input);
        }

        questionContainer.appendChild(block);
      });
    }

    document.getElementById("back-to-chapters").onclick = () => {
      questionContainer.style.display = "none";
      navigationButtons.style.display = "none";
      chapterList.style.display = "block";
    };

    renderChapters();
  </script>
</body>
</html>
